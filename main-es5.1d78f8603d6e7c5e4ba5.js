function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),o=n("jhN1"),i=n("mrSG"),u=n("9dUG"),a=n("G+JA"),s=n("G2QI"),c=n("JLln"),l=n("3vII"),f=new u.g("Number value");new u.g("Unit");var d=n("2JGe"),p=n("ofXK"),h=n("3Pt+");function b(e,t){if(1&e&&(r.Jb(0,"div",4),r.Jb(1,"label"),r.gc(2),r.Ib(),r.Ib()),2&e){var n=r.Sb();r.ub(2),r.hc(n.label)}}function g(e,t){if(1&e&&r.Fb(0,"option",9),2&e){var n=t.$implicit;r.Xb("value",n.value)("innerHtml",n.displayName,r.bc)}}function v(e,t){if(1&e){var n=r.Kb();r.Jb(0,"select",7),r.Qb("ngModelChange",(function(e){return r.ac(n),r.Sb(2).unit=e}))("change",(function(){return r.ac(n),r.Sb(2).onUnitChange()})),r.fc(1,g,1,2,"option",8),r.Ib()}if(2&e){var o=r.Sb(2);r.Xb("ngModel",o.unit)("disabled",o.readonly),r.ub(1),r.Xb("ngForOf",o.unitOptions)}}function m(e,t){if(1&e&&(r.Jb(0,"span",5),r.fc(1,v,2,3,"select",6),r.Ib()),2&e){var n=r.Sb();r.ub(1),r.Xb("ngIf",n.unitOptions)}}var y,w,_,C,k,O=function(e){return e.VolumeFlow="volumeFlow",e}({}),x=((y=function(){function e(){_classCallCheck(this,e),this.label="Label"}return _createClass(e,[{key:"ngOnInit",value:function(){this.mounted(),this.unit&&(this.previousUnit=this.unit),this.quantityKind&&this.quantityKind==O.VolumeFlow&&(this.unitOptions=[{value:"m3/h",displayName:"m&sup3;/h"},{value:"m3/min",displayName:"m&sup3;/min"},{value:"l/s",displayName:"l/s"},{value:"l/min",displayName:"l/min"}])}},{key:"onUnitChange",value:function(){var e=d.UcumLhcUtils.getInstance().convertUnitTo(this.previousUnit,this.value,this.unit);"succeeded"==e.status&&(this.value=e.toVal),this.onValueChange(),this.previousUnit=this.unit}},{key:"onValueChange",value:function(){this.change({num:this.value,unit:this.unit})}}]),e}()).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=r.yb({type:y,selectors:[["ng-component"]],inputs:{value:"value",label:"label",unit:"unit",quantityKind:"quantityKind",readonly:"readonly",change:"change",mounted:"mounted"},decls:4,vars:4,consts:[["fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","grow","type","number",3,"ngModel","readonly","ngModelChange","change"],["fxFlex","20px",4,"ngIf"],["fxLayout","row"],["fxFlex","20px"],["class","select-css",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],[1,"select-css",3,"ngModel","disabled","ngModelChange","change"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(e,t){1&e&&(r.fc(0,b,3,1,"div",0),r.Jb(1,"div",1),r.Jb(2,"input",2),r.Qb("ngModelChange",(function(e){return t.value=e}))("change",(function(){return t.onValueChange()})),r.Ib(),r.fc(3,m,2,1,"span",3),r.Ib()),2&e&&(r.Xb("ngIf",t.label),r.ub(2),r.Xb("ngModel",t.value)("readonly",t.readonly),r.ub(1),r.Xb("ngIf",t.unit))},directives:[p.e,h.i,h.a,h.e,h.g,h.j,p.d,h.h,h.k],styles:["input[_ngcontent-%COMP%]{border-radius:30px;background-color:#fff;border:1px solid #999;font-size:110%;width:100px;box-sizing:border-box}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{padding:2px 6px}label[_ngcontent-%COMP%]{font-size:1em;color:#fff}select[_ngcontent-%COMP%]{border-radius:30px;background-color:#fff;padding:2px 6px;border:1px solid #999;font-size:110%;width:90px;box-sizing:border-box}"]}),y),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,n),(o=t.call(this,r)).emitter=e,o.key=r,o.component=x,o.props={readonly:i,change:function(e){return o.onChange(e)},value:0,label:"Luftvolumenstr\xf8m",unit:u,quantityKind:O.VolumeFlow,mounted:function(){o.setValue(+o.getData(r)||0)}},o}return _createClass(n,[{key:"onChange",value:function(e){this.setValue(e.num),this.setUnit(e.unit),this.emitter.trigger("process")}},{key:"setValue",value:function(e){this.props.value=+e,this.putData("num",this.props.value)}},{key:"setUnit",value:function(e){this.props.unit=e,this.putData("unit",this.props.unit)}}]),n}(u.b),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"Forbruger")).outputUnit="m3/h",e}return _createClass(n,[{key:"builder",value:function(e){var t=new u.f("num","Forbrug",f);return e.addControl(new P(this.editor,"num",!1,e.data.unit)).addOutput(t)}},{key:"worker",value:function(e,t,n){var r,o=d.UcumLhcUtils.getInstance().convertUnitTo(e.data.unit,e.data.num,this.outputUnit);"succeeded"==o.status&&(r=o.toVal),n.num=r,n.unit=this.outputUnit}}]),n}(u.a),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"Manifold")}return _createClass(n,[{key:"builder",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new u.d("num","Ind",f,!0),r=new u.f("num","Ud",f),n.addControl(new P(this.editor,"num")),e.addInput(n).addOutput(r);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"worker",value:function(e,t,n){var r=0;t.num.length&&(r=t.num.reduce((function(e,t){return e+t}))),n.num=r}}]),n}(u.a),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"Resultat")}return _createClass(n,[{key:"builder",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new u.d("num","Forbrug",f)).addControl(new P(this.editor,"num")),e.addInput(n).addControl(new P(this.editor,"preview",!0,"m3/h"));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"worker",value:function(e,t,n){var r=t.num.length?t.num[0]:t.num;this.editor.nodes.find((function(t){return t.id===e.id})).controls.get("preview").setValue(r)}}]),n}(u.a),M=["nodeEditor"],N=function e(t,n){_classCallCheck(this,e),this.num=t,this.unit=n||null},F=((_=function(){function e(){_classCallCheck(this,e),this.editor=null}return _createClass(e,[{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,f,d,p,h,b=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.el.nativeElement,n=[new I,new U,new R],(r=new u.e("demo@0.2.0",t)).use(a.a),console.log("AngularRenderPlugin",c.a),r.use(c.a),r.use(s.a),o=new u.c("demo@0.2.0"),n.map((function(e){r.register(e),o.register(e)})),e.next=6,n[0].createNode(new N(250,"m3/h"));case 6:return f=e.sent,e.next=9,n[0].createNode(new N(550,"m3/h"));case 9:return d=e.sent,e.next=12,n[1].createNode();case 12:return p=e.sent,e.next=15,n[2].createNode();case 15:h=e.sent,f.position=[0,200],d.position=[0,400],p.position=[400,300],h.position=[800,300],r.addNode(f),r.addNode(d),r.addNode(p),r.addNode(h),r.connect(f.outputs.get("num"),p.inputs.get("num")),r.connect(d.outputs.get("num"),p.inputs.get("num")),r.connect(p.outputs.get("num"),h.inputs.get("num")),r.on(["process","nodecreated","noderemoved","connectioncreated","connectionremoved"],(function(){return Object(i.a)(b,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.abort();case 2:return e.next=4,o.process(r.toJSON());case 4:case"end":return e.stop()}}),e)})))})),r.view.resize(),r.trigger("process"),l.a.zoomAt(r);case 17:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=r.yb({type:_,selectors:[["app-rete"]],viewQuery:function(e,t){var n;1&e&&r.jc(M,!0),2&e&&r.Zb(n=r.Rb())&&(t.el=n.first)},decls:3,vars:0,consts:[[1,"wrapper"],[1,"node-editor"],["nodeEditor",""]],template:function(e,t){1&e&&(r.Jb(0,"div",0),r.Fb(1,"div",1,2),r.Ib())},styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.socket.number[_ngcontent-%COMP%]{background:#96b38a}"]}),_),j=((w=function e(){_classCallCheck(this,e),this.title="rete-test"}).\u0275fac=function(e){return new(e||w)},w.\u0275cmp=r.yb({type:w,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r.Fb(0,"app-rete")},directives:[F],styles:[""]}),w),S=n("kmnG"),z=n("qFsG"),J=((C=function e(){_classCallCheck(this,e)}).\u0275mod=r.Cb({type:C}),C.\u0275inj=r.Bb({factory:function(e){return new(e||C)},imports:[[p.a,h.c,c.b,S.b,z.a]]}),C),V=n("R1ws"),L=((k=function e(){_classCallCheck(this,e)}).\u0275mod=r.Cb({type:k,bootstrap:[j]}),k.\u0275inj=r.Bb({factory:function(e){return new(e||k)},providers:[],imports:[[o.a,J,V.b]]}),k);Object(r.L)(),o.c().bootstrapModule(L).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);