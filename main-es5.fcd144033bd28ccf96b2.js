function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),o=n("jhN1"),i=n("mrSG"),u=n("9dUG"),a=n("G+JA"),c=n("G2QI"),s=n("JLln"),l=n("3vII"),f=new u.g("Number value");new u.g("Unit");var d,p=n("2JGe"),h=n("ofXK"),v=n("3Pt+");function g(e,t){if(1&e&&(r.bc(0,"div",4),r.bc(1,"label"),r.yc(2),r.ac(),r.ac()),2&e){var n=r.kc();r.Mb(2),r.zc(n.label)}}function m(e,t){if(1&e&&r.Xb(0,"option",9),2&e){var n=t.$implicit;r.pc("value",n.value)("innerHtml",n.displayName,r.tc)}}function b(e,t){if(1&e){var n=r.cc();r.bc(0,"select",7),r.ic("ngModelChange",(function(e){return r.sc(n),r.kc(2).unit=e}))("change",(function(){return r.sc(n),r.kc(2).onUnitChange()})),r.xc(1,m,1,2,"option",8),r.ac()}if(2&e){var o=r.kc(2);r.pc("ngModel",o.unit)("disabled",o.readonly),r.Mb(1),r.pc("ngForOf",o.unitOptions)}}function y(e,t){if(1&e&&(r.bc(0,"span",5),r.xc(1,b,2,3,"select",6),r.ac()),2&e){var n=r.kc();r.Mb(1),r.pc("ngIf",n.unitOptions)}}!function(e){e.VolumeFlow="volumeFlow"}(d||(d={}));var w=function(){function e(){_classCallCheck(this,e),this.label="Label"}return _createClass(e,[{key:"ngOnInit",value:function(){this.mounted(),this.unit&&(this.previousUnit=this.unit),this.quantityKind&&this.quantityKind==d.VolumeFlow&&(this.unitOptions=[{value:"m3/h",displayName:"m&sup3;/h"},{value:"m3/min",displayName:"m&sup3;/min"},{value:"l/s",displayName:"l/s"},{value:"l/min",displayName:"l/min"}])}},{key:"onUnitChange",value:function(){var e=p.UcumLhcUtils.getInstance().convertUnitTo(this.previousUnit,this.value,this.unit);"succeeded"==e.status&&(this.value=e.toVal),this.onValueChange(),this.previousUnit=this.unit}},{key:"onValueChange",value:function(){this.change({num:this.value,unit:this.unit})}}]),e}();w.\u0275fac=function(e){return new(e||w)},w.\u0275cmp=r.Qb({type:w,selectors:[["ng-component"]],inputs:{value:"value",label:"label",unit:"unit",quantityKind:"quantityKind",readonly:"readonly",change:"change",mounted:"mounted"},decls:4,vars:4,consts:[["fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","grow","type","number",3,"ngModel","readonly","ngModelChange","change"],["fxFlex","20px",4,"ngIf"],["fxLayout","row"],["fxFlex","20px"],["class","select-css",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],[1,"select-css",3,"ngModel","disabled","ngModelChange","change"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(e,t){1&e&&(r.xc(0,g,3,1,"div",0),r.bc(1,"div",1),r.bc(2,"input",2),r.ic("ngModelChange",(function(e){return t.value=e}))("change",(function(){return t.onValueChange()})),r.ac(),r.xc(3,y,2,1,"span",3),r.ac()),2&e&&(r.pc("ngIf",t.label),r.Mb(2),r.pc("ngModel",t.value)("readonly",t.readonly),r.Mb(1),r.pc("ngIf",t.unit))},directives:[h.e,v.i,v.a,v.e,v.g,v.j,h.d,v.h,v.k],styles:["input[_ngcontent-%COMP%]{border-radius:30px;background-color:#fff;border:1px solid #999;font-size:110%;width:100px;box-sizing:border-box}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{padding:2px 6px}label[_ngcontent-%COMP%]{font-size:1em;color:#fff}select[_ngcontent-%COMP%]{border-radius:30px;background-color:#fff;padding:2px 6px;border:1px solid #999;font-size:110%;width:90px;box-sizing:border-box}"]});var _=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,n),(o=t.call(this,r)).emitter=e,o.key=r,o.component=w,o.props={readonly:i,change:function(e){return o.onChange(e)},value:0,label:"Luftvolumenstr\xf8m",unit:u,quantityKind:d.VolumeFlow,mounted:function(){o.setValue(+o.getData(r)||0)}},o}return _createClass(n,[{key:"onChange",value:function(e){this.setValue(e.num),this.setUnit(e.unit),this.emitter.trigger("process")}},{key:"setValue",value:function(e){this.props.value=+e,this.putData("num",this.props.value)}},{key:"setUnit",value:function(e){this.props.unit=e,this.putData("unit",this.props.unit)}}]),n}(u.b),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"Forbruger")).outputUnit="m3/h",e}return _createClass(n,[{key:"builder",value:function(e){var t=new u.f("num","Forbrug",f);return e.addControl(new _(this.editor,"num",!1,e.data.unit)).addOutput(t)}},{key:"worker",value:function(e,t,n){var r,o=p.UcumLhcUtils.getInstance().convertUnitTo(e.data.unit,e.data.num,this.outputUnit);"succeeded"==o.status&&(r=o.toVal),n.num=r,n.unit=this.outputUnit}}]),n}(u.a),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"Manifold")}return _createClass(n,[{key:"builder",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new u.d("num","Ind",f,!0),r=new u.f("num","Ud",f),n.addControl(new _(this.editor,"num")),e.addInput(n).addOutput(r);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"worker",value:function(e,t,n){var r=0;t.num.length&&(r=t.num.reduce((function(e,t){return e+t}))),n.num=r}}]),n}(u.a),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"Resultat")}return _createClass(n,[{key:"builder",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new u.d("num","Forbrug",f)).addControl(new _(this.editor,"num")),e.addInput(n).addControl(new _(this.editor,"preview",!0,"m3/h"));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"worker",value:function(e,t,n){var r=t.num.length?t.num[0]:t.num;this.editor.nodes.find((function(t){return t.id===e.id})).controls.get("preview").setValue(r)}}]),n}(u.a),O=["nodeEditor"],P=function e(t,n){_classCallCheck(this,e),this.num=t,this.unit=n||null},M=function(){function e(){_classCallCheck(this,e),this.editor=null}return _createClass(e,[{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,f,d,p,h,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.el.nativeElement,n=[new C,new k,new x],(r=new u.e("demo@0.2.0",t)).use(a.a),console.log("AngularRenderPlugin",s.a),r.use(s.a),r.use(c.a),o=new u.c("demo@0.2.0"),n.map((function(e){r.register(e),o.register(e)})),e.next=6,n[0].createNode(new P(250,"m3/h"));case 6:return f=e.sent,e.next=9,n[0].createNode(new P(550,"m3/h"));case 9:return d=e.sent,e.next=12,n[1].createNode();case 12:return p=e.sent,e.next=15,n[2].createNode();case 15:h=e.sent,f.position=[0,200],d.position=[0,400],p.position=[400,300],h.position=[800,300],r.addNode(f),r.addNode(d),r.addNode(p),r.addNode(h),r.connect(f.outputs.get("num"),p.inputs.get("num")),r.connect(d.outputs.get("num"),p.inputs.get("num")),r.connect(p.outputs.get("num"),h.inputs.get("num")),r.on(["process","nodecreated","noderemoved","connectioncreated","connectionremoved"],(function(){return Object(i.a)(v,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.abort();case 2:return e.next=4,o.process(r.toJSON());case 4:case"end":return e.stop()}}),e)})))})),r.view.resize(),r.trigger("process"),l.a.zoomAt(r);case 17:case"end":return e.stop()}}),e,this)})))}}]),e}();M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=r.Qb({type:M,selectors:[["app-rete"]],viewQuery:function(e,t){var n;1&e&&r.Bc(O,!0),2&e&&r.rc(n=r.jc())&&(t.el=n.first)},decls:3,vars:0,consts:[[1,"wrapper"],[1,"node-editor"],["nodeEditor",""]],template:function(e,t){1&e&&(r.bc(0,"div",0),r.Xb(1,"div",1,2),r.ac())},styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.socket.number[_ngcontent-%COMP%]{background:#96b38a}"]});var U=function e(){_classCallCheck(this,e),this.title="rete-test"};U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=r.Qb({type:U,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r.Xb(0,"app-rete")},directives:[M],styles:[""]});var R=n("kmnG"),N=n("qFsG"),I=function e(){_classCallCheck(this,e)};I.\u0275mod=r.Ub({type:I}),I.\u0275inj=r.Tb({factory:function(e){return new(e||I)},imports:[[h.a,v.c,s.b,R.b,N.a]]});var j=n("R1ws"),F=function e(){_classCallCheck(this,e)};F.\u0275mod=r.Ub({type:F,bootstrap:[U]}),F.\u0275inj=r.Tb({factory:function(e){return new(e||F)},providers:[],imports:[[o.a,I,j.b]]}),Object(r.cb)(),o.c().bootstrapModule(F).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);